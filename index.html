<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dart Punkte Zähler</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
        }
        #dartboard {
            width: 500px;
            height: 500px;
            background: url('board.png') no-repeat center;
            background-size: cover;
            position: relative;
            display: inline-block;
        }
        .segment {
            position: absolute;
            width: 500px;
            height: 500px;
            border-radius: 50%;
            pointer-events: none;
        }
        .segment span {
            position: absolute;
            transform-origin: center;
            font-size: 14px;
            font-weight: bold;
            color: red;
        }
        #score {
            font-size: 24px;
            margin-top: 20px;
        }
        #reset {
            margin-top: 10px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Dart Punkte Zähler</h1>
    <div id="dartboard" onclick="calculateScore(event)">
        <div class="segment" id="segments"></div>
    </div>
    <div id="score">Punkte: <span id="points">0</span></div>
    <button id="reset" onclick="resetScore()">Zurücksetzen</button>

    <script>
        let totalScore = 0;
        const boardCenter = { x: 250, y: 250 }; // Mittelpunkt der Dartscheibe
        const radii = {
            bullseye: 12,
            outerBull: 30,
            tripleRingStart: 110,
            tripleRingEnd: 130,
            doubleRingStart: 200,
            doubleRingEnd: 220,
            boardRadius: 250
        };
        
        const segments = [6, 13, 4, 18, 1, 20, 5, 12, 9, 14, 11, 8, 16, 7, 19, 3, 17, 2, 15, 10];
        
        function getAngle(x, y) {
            let angle = Math.atan2(y - boardCenter.y, x - boardCenter.x) * (180 / Math.PI);
            angle = (angle + 360) % 360;
            return Math.floor((angle + 9) / 18) % 20;
        }
        
        function getScore(x, y) {
            const dx = x - boardCenter.x;
            const dy = y - boardCenter.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            if (distance <= radii.bullseye) return 50;
            if (distance <= radii.outerBull) return 25;
            
            const segment = segments[getAngle(x, y)];
            
            if (distance >= radii.tripleRingStart && distance <= radii.tripleRingEnd) return segment * 3;
            if (distance >= radii.doubleRingStart && distance <= radii.doubleRingEnd) return segment * 2;
            if (distance <= radii.boardRadius) return segment;
            
            return 0;
        }

        function calculateScore(event) {
            const rect = event.target.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            const score = getScore(x, y);
            totalScore += score;
            document.getElementById("points").innerText = totalScore;
        }

        function resetScore() {
            totalScore = 0;
            document.getElementById("points").innerText = totalScore;
        }

        function drawSegments() {
            const segmentContainer = document.getElementById("segments");
            for (let i = 0; i < 20; i++) {
                const angle = (i * 18) - 9;
                const label = document.createElement("span");
                label.innerText = segments[i];
                label.style.transform = `rotate(${angle}deg) translate(100px)`;
                label.style.left = "50%";
                label.style.top = "50%";
                segmentContainer.appendChild(label);
            }
        }
        drawSegments();
    </script>
</body>
</html>
